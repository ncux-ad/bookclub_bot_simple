# Журнал изменений

## [02-08-2025] - Рефакторинг упрощенной версии
### Добавлено
- Создание модульной структуры (handlers/, services/, keyboards/)
- Улучшение безопасности с системой блокировки и валидации
- Добавление валидации данных и санитизации
- Реализация кэширования с TTL
- Система логирования с фильтрацией чувствительных данных
- Сервисы для работы с пользователями, книгами и событиями
- Главный файл приложения (main.py)
- Валидатор переменных окружения (utils/env_validator.py)
- Подробные docstrings для всех компонентов
- Пример файла конфигурации (env.example)
- Обновленная документация (README.md)
- Очистка проекта от лишних файлов
- Graceful shutdown с обработкой сигналов
- Тестовый скрипт для проверки завершения работы

### Изменено
- Реструктуризация проекта согласно принципам SOLID
- Улучшение обработки ошибок с централизованным логированием
- Оптимизация производительности через кэширование
- Интеграция сервисов в обработчики
- Конфигурация с автоматической валидацией переменных окружения
- Документация с подробными инструкциями по настройке
- Улучшено завершение работы бота с graceful shutdown

### Исправлено
- Устранение глобальных переменных
- Добавление docstrings на русском языке
- Улучшение типизации
- Соблюдение принципа единственной ответственности
- Удаление устаревших файлов и дублирующей документации
- Исправление ошибок в graceful shutdown
- Исправление декоратора admin_required
- Упрощение обработки сигналов
- Устранение дублирования graceful shutdown
- Добавление проверок состояния сессии и storage
- Устранение лишних сообщений об отмене операций
- Упрощение логики graceful shutdown
- Добавление обработки исключений на верхнем уровне
- Предотвращение вывода ошибок после graceful shutdown
- Улучшение отображения профиля пользователя
- Добавление кликабельного username и копируемого ID
- Добавление системы тегов для пользователей
- Добавление команды /settag для администраторов
- Интеграция FSM (Finite State Machine) для улучшения UX
- Пошаговая регистрация с FSM
- Поиск книг с FSM
- Команда /cancel для отмены операций 